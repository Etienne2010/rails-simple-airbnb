<%= render 'banner' %>

<%= form_for(@flat) do |f| %>
  <% if @flat.errors.any? || @edition %>
    <% if !@edition %>
      <div class="errors-container">
        <ul>
          <% @flat.errors.full_messages.each do |message| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
    <%= f.text_field :name, value: @flat.name %>
    <%= f.text_field :address, value: @flat.address %>
    <%= f.text_field :description, value: @flat.description %>
    <%= f.number_field :price_per_night, value: @flat.price_per_night %>
    <%= f.number_field :number_of_guests, value: @flat.number_of_guests %>
  <% else %>
    <%= f.text_field :name %>
    <%= f.text_field :address %>
    <%= f.text_field :description %>
    <%= f.number_field :price_per_night %>
    <%= f.number_field :number_of_guests %>
  <% end %>
  <% if @edition %>
    <%= f.submit "Edit flat", method: :patch, class: "btn btn-primary"%>
  <% else %>
    <%= f.submit "Add a flat", class: "btn btn-primary"%>
  <% end %>
<% end %>
